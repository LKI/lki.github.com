<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Hugo 0.59.1" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="Lirian Su" />
  <meta property="og:url" content="https://liriansu.com/posts/2018-07-26-engineer-culture/" />
  <link rel="canonical" href="https://liriansu.com/posts/2018-07-26-engineer-culture/" /><script type="application/ld+json">
  {
      "@context" : "https://schema.org",
      "@type" : "BlogPosting",
      "mainEntityOfPage": {
           "@type": "WebPage",
           "@id": "https:\/\/liriansu.com\/"
      },
      "articleSection" : "posts",
      "name" : "为什么我喜欢工程师文化",
      "headline" : "为什么我喜欢工程师文化",
      "description" : "",
      "inLanguage" : "en-US",
      "author" : "Lirian Su",
      "creator" : "Lirian Su",
      "publisher": "Lirian Su",
      "accountablePerson" : "Lirian Su",
      "copyrightHolder" : "Lirian Su",
      "copyrightYear" : "2018",
      "datePublished": "2018-07-26 22:38:44 \x2b0000 UTC",
      "dateModified" : "2018-07-26 22:38:44 \x2b0000 UTC",
      "url" : "https:\/\/liriansu.com\/posts\/2018-07-26-engineer-culture\/",
      "keywords" : [  ]
  }
</script>
<title>为什么我喜欢工程师文化 - 浮云计算</title>
  <meta property="og:title" content="为什么我喜欢工程师文化 - 浮云计算" />
  <meta property="og:type" content="article" />
  <meta name="description" content="" />

  <link rel="stylesheet" href="/css/flexboxgrid-6.3.1.min.css" />
  <link rel="stylesheet"
    href="/css/github-markdown.min.css" />
  <link rel="stylesheet" href="/css/highlight/tomorrow.min.css" />
  <link rel="stylesheet" href="/css/index.css">
  <link href="/index.xml" rel="alternate" type="application/rss+xml" title="浮云计算">
  
  <link href="https://fonts.googleapis.com/css?family=Arvo|Permanent+Marker" rel="stylesheet">
  
  

  
</head>


<body>
  <article class="post 中文" id="article">
    <div class="row">
      <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset-2 col-lg-6 col-lg-offset-3">
        <div class="site-header">
          <header>
  <div class="signatures site-title">
    <a href="/">Lirian Su</a>
  </div>
</header>
<div class="row end-xs site-header-right">
  
  <div class="site-header-item">
    <a href="/about" target="_blank">about</a>
  </div>
  
  <div class="site-header-item">
    <a href="https://github.com/LKI" target="_blank">github</a>
  </div>
  
  <div class="site-header-item">
    <a href="https://www.zhihu.com/people/liriansu" target="_blank">zhihu</a>
  </div>
  
  <div class="site-header-item">
    <a href="/index.xml" target="_blank">rss</a>
  </div>
  
</div>
<div class="header-line"></div>

        </div>
        <header class="post-header">
          <h1 class="post-title">为什么我喜欢工程师文化</h1>
          
          <div class="row post-desc">
            
            <time class="post-header-item" datetime="2018-07-26 22:38:44 UTC">
              Written at 2018-07-26 22:38
            </time>
            
            <span class="post-header-item" id="busuanzi_container_page_pv"> Views <span id="busuanzi_value_page_pv" /> </span>
          </div>
          
        </header>

        <div class="post-content markdown-body">
          <p>Mia 公司的母公司是 3G资本，<br />
她前几天突然好奇公司的文化是怎么样的，<br />
就去找了相关资料读了一遍。</p>

<p>然后 Mia 惊奇地跟我说：<br />
“我发现 3G资本 对人才的要求特别神奇。<br />
三个关键词是 smart, poor, desire to be rich&hellip;”<br />
空气中顿时充满了快活的笑声。</p>

<p>后来我又想，<br />
我司有什么企业文化呢？<br />
假如要我来说的话，<br />
大概就是 <code>工程师文化</code> 吧。</p>

<h1 id="工程师文化">工程师文化</h1>

<p>看美剧的时候，<br />
我们会发现美国人一楼总有一个车库，<br />
车库的工具箱里装着各种各样祖传的实用工具，<br />
Mickey/Rick/Baymax 都是从车库里走出来的。</p>

<p>软件工程师的工程师文化跟这个场景也很像：<br />
- 在实践中学习<br />
- 用工具解决问题<br />
- 自主决策</p>

<p>我很喜欢这样的工程师文化。<br />
具体来说，<br />
我们举一个B轮公司的研发部门为例子，<br />
也就是我目前在的公司：<br />
再惠（上海）网络科技有限公司。</p>

<h2 id="在实践中学习">在实践中学习</h2>

<p>我司有一份文档，<br />
叫 <code>the Hitchhiker's Guide to ZaiHui Dev</code>，<br />
俗称“新手村任务”，<br />
这个文档大概长这样子：</p>

<p><img src="/assets/pics/engineer/guide.png" alt="guide" /></p>

<p>文档里的章节包括搭建开发环境、<br />
熟悉基础业务、参与合作流程、认识基础架构、<br />
还有名为 DLC 的包括权限、队友、小脚本等附录。</p>

<p>除了这一套完善的文档以外，<br />
每个人还配有一名 buddy，<br />
就像老刺客带新刺客一样，<br />
新同学在万物皆虚万事皆允的路上不管有任何问题，<br />
都是可以抓着 buddy 问个透彻的。</p>

<p>比如其中后端的新手村任务大概长这样子（节选）：</p>

<ul>
<li>玩 API<br />

<ul>
<li>本地跑一个 server，尝试用接口获取 id=1 的商户信息<br /></li>
<li>尝试用测试环境的登录接口，拿到自己的 key<br /></li>
<li>想办法给所有测试环境添加自己的权限账号<br /></li>
<li>通过调用 api 的方式修改自己库里的用户名<br /></li>
</ul></li>
<li>玩 DB<br />

<ul>
<li>在测试环境入个会<br /></li>
<li>在代码里找到“阿瓦达索命”相关功能，注销掉自己的账号<br /></li>
<li>研究发验证码的代码 (pin.py) 到测试环境给自己设一个永久验证码<br /></li>
</ul></li>
<li>写 Bug<br />

<ul>
<li>尝试搞挂&lt;惠吧烤鱼&gt;这个公众号，让微信提示“该公众号无法提供服务”（记得修！不然测试爸爸要叫！）<br /></li>
<li>尝试不用 random 库，写一个有几率会挂的 ut<br /></li>
<li>写一个循环引用，让所有 ut 都挂<br /></li>
<li>尝试去测试环境改一下代码，然后搞坏该环境的发版（期待结果是在 pull_new_code 的时候报错）<br />
<br /></li>
</ul></li>
</ul>

<p>一般来说，<br />
有 python 经验的同学可以在一周左右做完新手村任务，<br />
了解我们的主要业务和后端的大致实现框架。<br />
刚毕业的同学也可以在整套流程中认识到 RESTful/MySQL/Git/Jenkins 等开发流程。</p>

<p>对应的，我们还践行 DevOps 的原则，<br />
就是 <code>Eat your own dog food</code>。<br />
不仅包括开发+架构设计+环境搭建一体化，<br />
还包括可以瞎比玩别人的测试环境，<br />
一个环境我搞挂了就得我来修，<br />
不修的话就会被拿刀抵在背上来修（并不）…</p>

<h2 id="用工具解决问题">用工具解决问题</h2>

<p>截止到目前（2018年7月）为止，<br />
我司技术部门（各端研发+测试）一共不到60人，<br />
对应我们年费制的数千家商户，<br />
平均下来每个人支持了100家商户。</p>

<blockquote>
<p>这么想想敏俊（96年的刚毕业小帅哥）也支持了100家商户，<br />
想想也为他感到有点小激动…</p>
</blockquote>

<p>这里就是我们用的大量工具起到了杠杆的作用，<br />
放大了每个工程师的生产力。</p>

<p>当时我被面试的时候，<br />
谢老板的一句话给我印象很深：<br />
“能用工具解决的问题，<br />
我们是不会让工程师上的。”</p>

<p>具体来说，<br />
我们看一个典型开发流程所要经历的一些步骤。</p>

<h3 id="迭代">迭代</h3>

<p>我司一直跑的是敏捷开发，<br />
早期用的是 Trello。<br />
那时不仅产品不多，<br />
产品经理也不多。</p>

<p>后来队友逐渐在增加，<br />
就尝试用了 Jira。<br />
Jira 的好处是它功能强大可配置，<br />
配套的 Confluence 等设施完善。<br />
但是因为配置起来比较繁琐，<br />
也没有让我们自己反复调整的时间，<br />
大部分队友也就不太适应 Jira。</p>

<p>后来一直到现在我们在用 Teambition。<br />
目前每个产品线有自己的敏捷面板，<br />
每两周一次迭代，周一计划会，下周五回顾会。<br />
每天早上晨会，大家除了过一下昨天的进度和今天的计划，<br />
还会主要把一些小的疑问/困难放在晨会里说出来，<br />
10 个人的晨会大概 10 分钟就结束了，效率巨高。</p>

<p>前几天面试的时候，<br />
一个唯品会的小姑娘好奇地问我：<br />
“你们的迭代是两周定时的么？”<br />
我意识到其实不同团队对迭代的执行细节不一样，<br />
就跟她解释了一下我们对迭代的理解：<br />
“其实迭代就像地铁班车，<br />
我们是写死两周一班车，<br />
这个迭代能做完什么就做完什么。<br />
车又不等人，做不完的下个迭代再做就行啦。”</p>

<h3 id="vcs">VCS</h3>

<p>我们用的版本控制工具是私有部署的 GitLab EE。<br />
除了 Repository，<br />
还用上了里面的 Merge Request/CI/CD/Docker Registry/Wiki 等功能。</p>

<p>比如举我们的机器人 KevinBot 为例，<br />
假如想要给 Kevin 加一个新功能大概流程是这样的：</p>

<ul>
<li>fork 项目到本地开发<br /></li>
<li>push 到自己的 repo，提一个 merge request<br /></li>
<li>触发了 CI 检查<br />

<ul>
<li>flake8 检查一波有没有语法问题，比如用了双引号、忘了写逗号<br /></li>
<li>django 检查一下有没有 migration 上的问题<br /></li>
<li>跑完全部 ut，看看单元测试能不能过<br /></li>
</ul></li>
<li>跪求 code owner 来 review 自己的代码<br />

<ul>
<li>会有线上评论，不好解释的会线下解释一波<br /></li>
<li>有问题就打回去改了，重新 push<br /></li>
</ul></li>
<li>approve + merge<br /></li>
<li>自动触发了 docker 的自动构建<br /></li>
<li>构建完成以后自动触发了发版，kevin 机器人发版完成<br />
<br /></li>
</ul>

<p><img src="/assets/pics/engineer/review.png" alt="review" /></p>

<p>整个过程中 contributor 需要 fork + coding + merge request，<br />
code owner 需要 review + approve + merge，<br />
剩下的单元测试、镜像构建、版本更新都是一条流水线做完的~</p>

<blockquote>
<p>于是小机器人就更新了一个又一个并不实用的好玩功能</p>
</blockquote>

<p><img src="/assets/pics/engineer/alias.png" alt="alias" /></p>

<h3 id="监控">监控</h3>

<p>我们的监控系统分为几块。<br />
所有监控的告警我们用的是邮件 + 微信机器人。<br />
机器状态的监控我们用了云平台的自带功能 AWS CloudWatch，<br />
业务的状态、日志监控我们用了 ELK 整套系统，<br />
还有最直接实用的错误监控我们用的是 Sentry。</p>

<p>比如说一年前每周都有好几个发版夜的时候，<br />
大家都是一边看着 Jenkins console log，<br />
一边看着 Sentry 看看会不会蹦出来一些 error log。<br />
有的话当然就火线编程了！<br />
（于是当时就有这样的九核围观的梗：</p>

<p><img src="/assets/pics/engineer/fire.jpg" alt="fire" /></p>

<p>后来我们终于迎来了正规军测试小伙伴的加入，<br />
Sentry 依然还是我们在测试环境用的一个非常有效的 debug 手段，<br />
不论是 error 还是 warning，<br />
Sentry 上的每一个错误都有几率被抓起来吊着锤。</p>

<p>有一次 Sentry 变慢了一些，<br />
都被敏锐的旭总察觉到了事情并不简单，<br />
从而牵扯出了一桩案件：<a href="/solve-a-sentry-case">《破案·Sentry迷云》</a></p>

<h2 id="自主决策">自主决策</h2>

<p>上面讲的这些工程师文化的方方面面，<br />
各个优秀的团队都绝对也一样有这样的工程师团队。<br />
但唯有一点，<br />
我是觉得只有我司是特别的。</p>

<p>套用一段之前在高德干活的拉总讲的话：<br />
“我以前在高德，做的事情是领导分给我的。<br />
我的领导呢，做的事情也是他的领导分给他的。<br />
所有人要做的业务、要使用的技术都是相对固定的。<br />
但是在再惠，根本就是怎么好怎么来。<br />
而且实话说，我以前根本没有想象过，工作能这么开心！”</p>

<p>拉总总是这么睿智（棒读）。</p>

<p>政治老师说过，<br />
我们答题要用总分总的形式容易得高分。</p>

<p>看来工程师文化令人喜欢的一个原因，<br />
就是工程师们也十分令人喜欢呀。</p>

<p>（完）</p>
        </div>

        
          

          
          <div style="height: 20px;"></div>
        

        

<div class="compatible">
  <style scoped>
.compatible {
  margin: 0 auto;
  max-width: 760px;
  position: relative;
}

.compatible article {
  align-items: flex-start;
  display: flex;
  font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;
  font-size: 14px;
  margin: 16px 0;
  padding: 0 4px;
}

.compatible .avatar {
  background-color: transparent;
  display: block;
  margin-right: 16px;
}

.compatible img {
  border-radius: 3px;
  border-style: none;
}

.compatible .comment {
  position: relative;
  flex-grow: 1;
  flex-basis: 0;
  min-width: 0;
  border: 1px solid #e1e4e8;
  border-radius: 3px;
}

.compatible .comment-header {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
  -ms-flex-align: center;
  align-items: center;
  -webkit-box-pack: justify;
  -ms-flex-pack: justify;
  justify-content: space-between;
  color: #586069;
  background-color: #f6f8fa;
  border-bottom: 1px solid #e1e4e8;
  padding: 10px 16px;
}

.compatible strong {
  color: #586069;
}

.compatible .comment-body {
  padding: 0px 16px;
  font-size: 14px;
}
  </style>
  
  <article>
    <a class="avatar" href="https://github.com/nilsonlinux" target="_blank">
      <img height="44" width="44" src="https://avatars3.githubusercontent.com/u/22534130?v=4&amp;s=73">
    </a>
    <div class="comment">
      <header class="comment-header">
        <a class="text-link" href="https://github.com/nilsonlinux" target="_blank"><strong>nilsonlinux</strong></a> (compatible) commented at 2018-08-08T16:23:07.330Z
      </header>
      <p class="comment-body">&#x4E5F;&#x5341;&#x6B22;&#x5440;&#x3002;</p>
    </div>
  </article>
  
</div>



<div class="post-comments">
  <script src="https://utteranc.es/client.js"
          repo="LKI/lki.github.io"
          issue-term="title"
          label="comment"
          theme="github-light"
          crossorigin="anonymous"
          async>
  </script>
</div>


        

<div class="site-footer">
  <div class="site-footer-left">
    <div class="site-footer-item">
      <span id="busuanzi_container_site_pv" style="display:none"> PV: <span id="busuanzi_value_site_pv"/> </span>
    </div>
    <div class="site-footer-item">
      <span id="busuanzi_container_site_uv" style="display:none"> UV: <span id="busuanzi_value_site_uv"/> </span>
    </div>
  </div>

  <div class="site-footer-right">
    
    
    <div class="site-footer-item">
      <a href="/en/">English</a>
    </div>
    
    
  </div>
</div>

      </div>
    </div>
  </article>

  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  

</body>

</html>
